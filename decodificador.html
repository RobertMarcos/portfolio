<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/decodificador.css">
    <title>GriptoSecrets</title>
</head>
<body>
    <div id="menus" class="conteiner">

        <div class="barr"> 
        
          
    
            <header>
                <a id="menu"  class="sidem" href="#" onclick="Abrir()"> &#9776 Menu </a>
                 
                 
              
            </header>
        
        </div>
        <!---->
        
        
      
        <div Class="conteu">
             <h1 class="top">Decodificador</h1>
                <div class="msg">
                <textarea  id="usuario"> </textarea>
                <p> Caracteres: <label for="usuario" id="contc" > </label></p>
                <button id="crip" >Criptografar</button>
                <button id="descrip" >Descriptografar</button>
                </div>

                <div class="res">
                <textarea  id="resul" readonly> </textarea>
               <p>Caracteres: <label for="resul" id="contc2" > </label></p>
                <button id = "copiar" >Copie a menssagem</button>
                </div>
            
        
            
         
            
        
        </div>

<!---->
<div Class="side">

    <div class="imgsid"><a href="sobre.html"><img src="NovasImg/perfil.png"></a></div>

    <div class="text"><p>" O homem só precisa de duas coisas para conquisar os seus Sonhos, <strong>criatividade e perseverança</strong>" <br> <em>-Robert Marcos-</em></p></div>
   
    <nav>

        <a href="index.html">Home</a>
    
        <a href="projetos.html">Projetos</a>
      
        <a href="sobre.html">sobre</a>

 
     

</nav>


<nav>
    <h3>Redes Sociais:</h3>
       <a href="https://github.com/RobertMarcos" target="_blank"> GitHub</a>
       <a href="https://www.linkedin.com/in/robert-dos-prazeres-marcos-dev-back-end" target="_blank">linkedin</a>

</nav>
</div>

<!---->
<div class="rodape">
        <p style="color: white;">&#169;Copyright</p>

</div>

<!---->
</div>

<script>

//side

let abri = true;
 let fechar = false;

 function Abrir(){
     if( abri == true){
         document.getElementById("menus").style.gridTemplateColumns=("200px");
         abri = false;
         
     }else{ document.getElementById("menus").style.gridTemplateColumns=("0px");
 abri = true;
 }
 }


  /*Decodificador*/      
        var receber = document.querySelector("#usuario");
        var resulta = document.querySelector("#resul");
        var criptoGrafar = document.querySelector("#crip");
        var descriptografar = document.querySelector("#descrip");
        var copia = document.getElementById("copiar");
        var contador = document.getElementById("contc");
        let contador2 = document.getElementById("contc2")

   
    


        function Checagem(){
            //checar letras Maiusculas
                const x = receber.value
                const y = receber.value

                const verif = /[A-Z]/
            
            //checar caracteres especiais 
            const veri = /[^\w\s]|[\u00C0-\u017F]/;
            
            /**/

        if(verif.test(x)== true || veri.test(y) == true){
            
            return true

        }else{return false}
            
        

        }

     function copiarResu(){
            resulta.select();
            document.execCommand("copy")
            resulta.value = "";
            

        }

        
        function ContarCaracter(c,d){    
        
        if(resulta != ""){
         
        let y = resulta.value;
         
         d = y.replace(/\s/g,'');
         
         contador2.textContent = d.length;

        }else{contador2.textContent = 0}
         


         if(receber.value != ""){
            
            let x = receber.value;
            
            

           c = x.replace(/\s/g,'');
          
        
            contador.textContent = c.length;
            
        
        }else{
            contador.textContent = 0 ;
            
            }

            
        
        }

        

    function traduzir(){
        
        var substituir = {"a": "ai","e": "enter", "i":"imes", "o":"ober","u":"ufat"}
            
        if(Checagem() == true){

            alert("Não é aceito o uso de caracteres especiais, acentos e letras maiusculas !!!");
            
            receber.value = "";

                }else{
                    var messagem = receber.value;
                    var msg = messagem.split("");
                   
                    //msg[]

                        receber.value="";
                        for(var posi = 0; posi < msg.length; posi++){
                                    if(substituir[msg[posi]]){
                                        msg[posi] = substituir[msg[posi]]
                                    }

                        }
                }
                
            var mostra = msg.join("");
          
            resulta.value = mostra    
              
        //mostrar.value = messagem.replace(/a/g,a);
        
    }

 function descrip(){

    var des = receber.value;
    var con = des.replace(/ai/g,"a" )
            .replace(/enter/g,"e")  
            .replace(/ober/g,"o")  
            .replace(/imes/g,"i") 
            .replace(/ufat/g,"u"); 

     receber.value="";

    resulta.value = con;


        }

        
    const enter = 13;

    function apertar (event){ 

    if(event.keyCode == enter){
        event.preventDefault();
        traduzir();
        }
    }
    
        receber.addEventListener('keypress',apertar);
        setInterval(ContarCaracter,1000)
        criptoGrafar.onclick=traduzir;
        descriptografar.onclick=descrip;
        copia.onclick = copiarResu;
    // estilo

    </script>
</body>
</html>